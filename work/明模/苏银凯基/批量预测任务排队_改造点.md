## 1. 任务运行后加入队列

### 主动触发任务 / 周期任务

1. 任务进入队列

	* HOLMES_OFFLINE_PREDICT_TASK.status 修改为 QUEUING
	* holmes_offline_predict_log 添加一条状态为排队中的日志

2. 周期任务每隔一分钟执行一次，每次取 3 条排队中的数据

	任务开始预测时：修改HOLMES_OFFLINE_PREDICT_TASK.status 为 Running

3. 如果任务因为资源不足执行失败

	出现资源不足的地方有两处

	1. 前置检查处：判断资源配置是否合理，不合理程序调整资源配置。任务状态修改为排队中
	2. 初始化容器时：程序会调整pod数量。如果资源还是不足，将任务状态重新改为排队中

## 2. 中断排对中任务

* 原逻辑只可以中断 运行中的任务，现在可中断运行中和排队中的任务
* 如果说排队中的任务被中断，向日志中写入 排队被中止

## 3. hive表分区的处理

分区的基准时间取任务进入队列的时间



